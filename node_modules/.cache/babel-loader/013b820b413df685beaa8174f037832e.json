{"ast":null,"code":"var _jsxFileName = \"/Users/jovana/Downloads/ErpProject/ERPFrontend/src/pages/Auth/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport authService from '../../services/auth.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const [requestBody, setRequestBody] = useState({\n    'username': \"\",\n    'password': \"\"\n  });\n  const [showError, setShowError] = useState(false);\n  const navigate = useNavigate();\n\n  function handleChange(event) {\n    setRequestBody({ ...requestBody,\n      [event.target.name]: event.target.value\n    });\n  }\n\n  function handleLogin(event) {\n    event.preventDefault();\n    authService.login(requestBody).then(response => {\n      if (response.status === 200) {\n        localStorage.setItem('Token', response.data.token);\n        localStorage.setItem('userName', response.data.name);\n        localStorage.setItem('userLastName', response.data.lastName);\n        localStorage.setItem('userId', response.data.userId);\n        localStorage.setItem('role', response.data.role);\n        window.location.href = \"/\";\n      }\n    }).catch(error => {\n      if (error.response.status === 400 || error.response.status === 403) {\n        setShowError(true);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-signin-container text-center h-75 w-50 m-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/login.png\",\n      alt: \"login\",\n      width: 200,\n      height: 200\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-signin text-center w-100\",\n      onSubmit: event => handleLogin(event),\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h3 mb-3 font-weight-bold\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"text\",\n        className: \"sr-only\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"inputEmail\",\n        className: \"form-control\",\n        placeholder: \"Username\",\n        required: true,\n        autoFocus: true,\n        name: \"username\",\n        onChange: event => handleChange(event)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"inputPassword\",\n        className: \"sr-only\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"inputPassword\",\n        className: \"form-control\",\n        placeholder: \"Password\",\n        required: true,\n        name: \"password\",\n        onChange: event => handleChange(event)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), showError ? /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"text-danger\",\n        children: \"Username or password is not correct\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 28\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-lg btn-primary btn-block w-50 m-auto\",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"L2g85FZNFBp3zK4oVWGp1rAMyJY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useNavigate","authService","Login","props","requestBody","setRequestBody","showError","setShowError","navigate","handleChange","event","target","name","value","handleLogin","preventDefault","login","then","response","status","localStorage","setItem","data","token","lastName","userId","role","window","location","href","catch","error"],"sources":["/Users/jovana/Downloads/ErpProject/ERPFrontend/src/pages/Auth/Login.jsx"],"sourcesContent":["import { useState} from 'react';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport authService from '../../services/auth.service';\r\n\r\nfunction Login(props) {\r\n    const [requestBody, setRequestBody] = useState({\r\n        'username': \"\",\r\n        'password': \"\"\r\n    });\r\n    const [showError, setShowError] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    function handleChange(event) {\r\n        setRequestBody({\r\n            ...requestBody,\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    function handleLogin(event) {\r\n        event.preventDefault();\r\n        authService.login(requestBody).then(response => {\r\n            if (response.status === 200) {\r\n                localStorage.setItem('Token', response.data.token);\r\n                localStorage.setItem('userName', response.data.name);\r\n                localStorage.setItem('userLastName', response.data.lastName);\r\n                localStorage.setItem('userId', response.data.userId);\r\n                localStorage.setItem('role', response.data.role);\r\n                window.location.href= \"/\";\r\n            }\r\n        }).catch(error => {\r\n            if (error.response.status === 400 || error.response.status === 403) {\r\n                setShowError(true);\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-signin-container text-center h-75 w-50 m-auto\">\r\n\r\n            <img src='/login.png' alt='login' width={200} height={200} />\r\n            <form className=\"form-signin text-center w-100\" onSubmit={event => handleLogin(event)}>\r\n                <h1 className=\"h3 mb-3 font-weight-bold\">Login</h1>\r\n                <label htmlFor=\"text\" className=\"sr-only\">Username</label>\r\n                <input type=\"text\" id=\"inputEmail\" className=\"form-control\" placeholder=\"Username\" required\r\n                       autoFocus name=\"username\" onChange={(event => handleChange(event))}   />\r\n                <label htmlFor=\"inputPassword\" className=\"sr-only\">Password</label>\r\n                <input type=\"password\" id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\"\r\n                       required name=\"password\" onChange={(event => handleChange(event))} />\r\n                {showError?<label className=\"text-danger\">Username or password is not correct</label>:null}\r\n                <button className=\"btn btn-lg btn-primary btn-block w-50 m-auto\" type=\"submit\">Login</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}